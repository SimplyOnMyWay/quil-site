function h(a){this.a=parseInt(a.substr(0,8),16);this.b=parseInt(a.substr(8,8),16);this.c=parseInt(a.substr(16,8),16);this.d=parseInt(a.substr(24,8),16)}function m(a){a.a|=0;a.b|=0;a.c|=0;a.d|=0;let d=(a.a+a.b|0)+a.d|0;a.d=a.d+1|0;a.a=a.b^a.b>>>9;a.b=a.c+(a.c<<3)|0;a.c=a.c<<21|a.c>>>11;a.c=a.c+d|0;return(d>>>0)/4294967296}let n=0;function p(a){a.G=!a.G;return a.G?m(a.ja):m(a.Fa)}function t(a){return Math.floor((a+1-0)*p(u))}function v(a){return a[t(a.length-1)]}
function w(a){return a[t(a.length-1)]}function x(a,d){var k=u;let f,g;d="number"==typeof d?d:1;if(k.B){var b=n;k.B=!1}else{do b=2*p(k)-1,f=2*p(k)-1,g=b*b+f*f;while(1<=g);g=Math.sqrt(-2*Math.log(g)/g);b*=g;n=f*g;k.B=!0}return b*d+(a||0)}function y(a,d,k){let f;f=p(u);return Math.pow(-(f*Math.pow(d,k)-f*Math.pow(a,k)-Math.pow(d,k))/(Math.pow(d,k)*Math.pow(a,k)),-1/k)}
var u=new function(){this.G=!1;this.ja=new h(tokenData.hash.substr(2,32));this.Fa=new h(tokenData.hash.substr(34,32));for(let a=0;1E6>a;a+=2)m(this.ja),m(this.Fa);this.B=!1};let z=[[396,440,495,528],[396,440,475.2,528],[396,422.4,495,528],[396,422.4,475.2,528]],A=[[264,297,330,352],[264,297,316.8,352],[264,281.6,330,352],[264,281.6,316.8,352],[264,297,330,371.25],[264,297,316.8,371.25],[264,281.6,330,371.25],[264,281.6,316.8,371.25]],C=[],E=0;
for(let a=0;4>a;a++)for(let d=0;8>d;d++)C[E]=A[d].concat(z[a]),E++;let F=t(C.length-1);console.log("modeNoSelected = ",F);let H=C[F],I=[],J=H.length+0;window.B=Array(H.length).fill(1);window.ja=Array(H.length).fill(0);var K=(1+Math.sqrt(5))/2,L=Math.PI,M=window.innerHeight,N=Math.min(window.innerWidth,M)/K,R=0;function S(a,d){d="number"==typeof d?d:K;return Math.pow(d,2*a/L)}
function T(a,d,k,f,g,b){let c=[0];var e=1;let l=[f];for(;c[e-1]<d;)l[e]=f+e*g/(a*a),c[e]=c[e-1]+l[e]/S(c[e-1],a),e++,R++;c.pop();c.push(d);f=c.push;g=d-.01;d=g+(d+.01-g)*p(u);f.call(c,d);c.unshift(0);d=[];f=[];for(g=0;g<c.length;g++)d[g]=S(c[g],a),e=[d[g]*Math.cos(c[g]),d[g]*Math.sin(c[g])],f[g]=[x(e[0],b)/k,x(e[1],b)/k];return f}
function U(a,d,k,f,g,b,c){var e=[0];let l=1,q=[f];for(;e[l-1]>d;)q[l]=f+l*g/(a*a),e[l]=e[l-1]-q[l]/S(e[l-1],a),l++,R++;e.pop();e.push(d);e.push(d);e.unshift(0);c&&(e=e.reverse());d=e;f=[];g=[];for(c=0;c<d.length;c++)f[c]=S(d[c],a),e=[f[c]*Math.cos(d[c]),f[c]*Math.sin(d[c])],g[c]=[x(e[0],b)/k,x(e[1],b)/k];return g}function Y(a){a=Math.pow(50*a,3);return 1<a?1:a}
new p5(function(a){a.U=[];a.Qa=60;for(var d=0;d<J;d++)a.U[d]=Array(a.Qa).fill(0);a.Oa=1;a.h=Array(J).fill(0);a.T=[];a.S=[];a.aa=[];a.j=[];a.i=[];a.C=[];a.Y=1;a.Da=K;a.F=[];a.D=[];a.Aa=[];a.J=0;a.za=Array(J).fill(1);a.da=[];a.mb=[];a.ca=[];a.ea=0;a.V=[];a.L=[];a.M=[];a.W=[];a.mb=[];a.fa=[];a.ga=0;a.X=[];a.O=[];a.P=[];a.Ba=-L;a.lb=-5.5*L;a.Pa=-.25*L;a.kb=(a.lb-a.Ba)/a.Pa;a.Ka=1.5*L;a.Ua=4*L;a.La=.125*L;a.Ta=(a.Ua-a.Ka)/a.La;a.Ia=[0,a.Ba,a.Ba];for(d=3;d<a.kb+3;d++)a.Ia[d]=a.Ba+(d-3)*a.Pa;a.Ea=[];for(d=
0;d<a.Ta;d++)a.Ea[d]=a.Ka+d*a.La;a.ba=[];a.$=[];a.I=[];a.H=[];a.sa=[];a.qa=[];a.ra=5;a.pa=5;a.va=[];a.ua=[];a.la=[];a.ka=[];a.ib=[];a.Ga="";a.o=[];a.na="";a.s=[];a.xa="";a.l=[];a.ma="";a.m=[];a.wa="";a.u=[];a.oa="";a.v=[];a.ya="";a.A=[];a.ia=[];a.ha=[];a.Ma=[[[355,78,85,1],[169,75,65,1],[39,59,95,1],[22,44,35,1],[227,65,20,1],[10,35,97,1],[25,77,90,1],[40,12,88,1],[0,0,0,1]],[[208,65,74,1],[107,60,45,1],[79,83,74,1],[0,76,94,1],[208,65,74,1],[107,60,45,1],[79,83,74,1],[0,76,94,1],[0,0,0,1]],[[355,
78,85,1],[169,75,65,1],[39,59,95,1],[22,44,35,1],[227,65,20,1],[10,35,97,1],[25,77,90,1],[160,15,85,1],[40,12,88,1],[0,0,0,1]],[[185,98,65,1],[185,98,95,1],[185,10,65,1],[185,98,45,1],[40,50,100,1],[40,100,100,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],[[22,44,35,1],[151,56,37,1],[0,83,61,1],[42,67,66,1],[135,24,21,1],[151,96,37,1],[0,0,100,1],[0,0,50,1],[0,0,0,1]],[[179,24,71,1],[202,67,44,1],[107,47,65,1],[214,51,71,1],[252,2,87,1],[336,49,73,1],[200,85,87,1],[30,37,69,1],[19,68,87,1]],[[19,68,87,1],[16,
92,85,1],[19,3,32,1],[19,3,68,1],[0,76,94,1],[19,95,95,1],[30,95,95,1],[7,95,80,1],[19,68,87,1]]];a.ha=[[208,25,95,1],[48,42,27,1],[50,45,80,1],[18,86,91,1],[50,30,90,1],[47,78,92,1],[28,81,27,1]];for(d=0;d<a.Ma.length;d++){a.A[d]=[];for(var k=a.Ma[d],f=0,g=J;g--;)f=Math.floor(p(u)*k.length),a.A[d].push(k[f]),k.splice(f,1)}for(d=0;33>d;d++)a.da[d]=.5;for(d=33;66>d;d++)a.da[d]=1/(1+K)/(1+K);for(d=66;100>d;d++)a.da[d]=1-1/(1+K)/(1+K);for(d=0;11>d;d++)a.W[d]=.5;for(d=11;22>d;d++)a.W[d]=1/(1+K)/(1+K);
for(d=22;33>d;d++)a.W[d]=1-1/(1+K)/(1+K);for(d=33;66>d;d++)a.W[d]=K-1;for(d=66;100>d;d++)a.W[d]=2-K;d=1/(1+K);k=1-1/(1+K);f=1/(1+K)/(1+K);g=1-1/(1+K)/(1+K);a.bb=[.5,g];a.Na=[.5,k];a.eb=[.5,d];a.fb=[.5,f];a.Va=[f,k];a.Xa=[g,k];a.cb=[f,d];a.ta=[a.Na,a.fb,a.Va,a.bb].concat([a.eb,a.Xa,a.cb,a.Na]);a.hb=function(){window.G=8;I=H.slice(0,window.G);let b=t(a.A.length-1);a.noiseSeed(100);a.j=a.h.map(()=>v([0,0,0,0,0,0,0,0,0,0,.001,.01,.05]));a.K=a.h.map(()=>v([0,0,0,0,0,0,0,0,.001,.01,.05]));a.N=a.h.map(()=>
v([0,0,0,0,0,0,0,0,.001,.01,.05]));a.i=a.h.map(()=>y(.02,.5,1.16));a.ba=a.h.map(()=>v(a.Ia));a.$=a.h.map(()=>v(a.Ea));a.aa=a.h.map(()=>v([0,0,0,0,1]));a.C=a.h.map(()=>y(3,30,3.16));a.$a=a.h.map(()=>.25);a.Ya=a.h.map(()=>.1);a.ab=a.h.map(()=>0);a.Za=a.h.map(()=>.001);a.Ca=a.h.map(()=>y(7.5E-5,1E-4,1.16));a.jb=a.h.map(()=>y(.025,.075,1.16));a.va=a.h.map(()=>y(.005,.05,1.16));a.ua=a.h.map(()=>y(0,1E-4,1.16));a.la=a.h.map(()=>y(.001,.01,1.16));a.ka=a.h.map(()=>y(0,.05,1.16));a.Ga=w(["overlayConfig","latticeConfig",
"latticeConfig","latticeConfig"]);a.ma=w(["on","off","random"]);a.wa=w(["on","off","random"]);a.na=w(["all open","all closed","random"]);a.xa=w(["all open","all closed","random"]);a.oa=w(["fill all","no fill","random"]);a.ya=w(["no fill","no fill","random"]);a.Ha=v(a.jb);a.ea=v(a.da);a.ga=v(a.W);for(var c=0;c<J;c++){a.ca[c]=a.ta[c][0];a.fa[c]=a.ta[c][1];a.D[c]=(a.Da-a.Y)/a.i[c];a.L[c]=[];a.O[c]=[];a.M[c]=[];a.P[c]=[];for(var e=0;e<a.D[c];e++)a.L[c][e]=x(a.ca[c],a.K[c]),a.O[c][e]=x(a.fa[c],a.N[c]),
a.M[c][e]=x(a.ea,a.K[c]),a.P[c][e]=x(a.ga,a.N[c])}"latticeConfig"===a.Ga?(a.V=a.L,a.X=a.O):"overlayConfig"===a.Ga&&(a.V=a.M,a.X=a.P);a.R=a.ha[b];for(c=0;c<J;c++)for(a.ia[c]=[a.A[b][c][0],a.A[b][c][1],a.A[b][c][2],Y(window.B[c])],a.Aa[c]=.01>=a.i[c]&&.01>=a.j[c]?10*a.Ca[c]:.01<a.i[c]&&.05>a.i[c]&&.01>=a.j[c]?15*a.Ca[c]:.05<a.i[c]&&.01>=a.j[c]?25*a.Ca[c]:15*a.Ca[c],"off"===a.ma?a.l[c]=0:"on"===a.ma?(a.l[c]=1,a.H[c]*=a.pa):"random"===a.ma&&(a.l[c]=t(1),a.l[c]&&(a.H[c]*=a.pa)),"off"===a.wa?a.m[c]=0:"on"===
a.wa?(a.m[c]=1,a.I[c]*=a.ra):"random"===a.wa&&(a.m[c]=t(1),a.m[c]&&(a.I[c]*=a.ra)),"all open"===a.na?a.o[c]=0:"all closed"===a.na?a.o[c]=1:"random"===a.na&&(a.o[c]=t(1)),"all open"===a.xa?a.s[c]=0:"all closed"===a.xa?a.s[c]=1:"random"===a.xa&&(a.s[c]=t(1)),"no fill"===a.oa?a.u[c]=0:"fill all"===a.oa?a.u[c]=1:"random"===a.oa&&(a.u[c]=t(1)),"no fill"===a.ya?a.v[c]=0:"fill all"===a.ya?a.v[c]=1:"random"===a.ya&&(a.v[c]=t(1)),a.T[c]=[],a.S[c]=[],a.F[c]=[],e=0;e<a.D[c];e++)a.F[c][e]=a.Y+e*a.i[c],a.T[c][e]=
T(a.F[c][e],a.$[c],a.C[c],a.$a[c],a.ab[c],a.j[c]),a.S[c][e]=U(a.F[c][e],a.ba[c],a.C[c],a.Ya[c],a.Za[c],a.j[c],a.aa[c])};a.gb=function(){a.g={numStrings:7,numStringsMin:1,numStringsMax:H.length,numStringsStep:1,palNo:6,palNoMin:0,palNoMax:6,palNoStep:1,colPalette:["tyler","frozenFog"],spiralConfig:["latticeConfig","overlayConfig"],strokeBase:7.5E-5,strokeBaseMin:1E-5,strokeBaseMax:.001,strokeBaseStep:1E-5,lpos0:.05,lpos0Min:1E-4,lpos0Max:.75,lpos0Step:1E-4,lposSlope:0,lposSlopeMin:0,lposSlopeMax:.5,
lposSlopeStep:1E-5,lneg0:.0125,lneg0Min:1E-4,lneg0Max:.75,lneg0Step:1E-4,lnegSlope:0,lnegSlopeMin:0,lnegSlopeMax:.5,lnegSlopeStep:1E-5,innerCircles:["off","on","random"],outerCircles:["off","on","random"],circleDia:.01,circleDiaMin:0,circleDiaMax:.1,circleDiaStep:1E-4,circleDiaSlope:0,circleDiaSlopeMin:0,circleDiaSlopeMax:1,circleDiaSlopeStep:.01,xSd:0,xSdMin:0,xSdMax:.1,xSdStep:.001,innerSpiralsClosed:["all open","all closed","random"],outerSpiralsClosed:["all open","all closed","random"],innerSpiralsFill:["no fill",
"fill all","random"],outerSpiralsFill:["no fill","fill all","random"],spiralFillAlphaFactor:1,spiralFillAlphaFactorMin:0,spiralFillAlphaFactorMax:1,spiralFillAlphaFactorStep:.01,scale:3,scaleMin:.1,scaleMax:100,scaleStep:.1,vertexSd:0,vertexSdMin:0,vertexSdMax:.05,vertexSdStep:.001,adsrGain:.2,adsrGainMin:0,adsrGainMax:1,adsrGainStep:.01}};a.rb=function(){a.gb();window.G=a.g.numStrings;I=H.slice(0,window.G);a.K=a.h.map(()=>a.g.xSd);a.N=a.h.map(()=>a.g.xSd);a.i=a.h.map(()=>y(.02,.2,1.16));a.C=a.h.map(()=>
y(5,15,1.16));a.ba=a.h.map(()=>v(a.Ia));a.$=a.h.map(()=>v(a.Ea));a.aa=a.h.map(()=>v([0,0,0,0,1]));a.ib=a.h.map(()=>v(["overlayConfig"]));a.o=a.h.map(()=>v([0,1]));a.s=a.h.map(()=>v([0,1]));a.l=a.h.map(()=>v([0,1]));a.m=a.h.map(()=>v([0,1]));a.ea=v(a.da);a.ga=v(a.W);for(var b=0;b<J;b++){a.ca[b]=a.ta[b][0];a.fa[b]=a.ta[b][1];a.D[b]=(a.Da-a.Y)/a.i[b];a.L[b]=[];a.O[b]=[];a.M[b]=[];a.P[b]=[];for(var c=0;c<a.D[b];c++)a.L[b][c]=x(a.ca[b],a.K[b]),a.O[b][c]=x(a.fa[b],a.N[b]),a.M[b][c]=x(a.ea,a.K[b]),a.P[b][c]=
x(a.ga,a.N[b])}"latticeConfig"===a.g.spiralConfig?(a.V=a.L,a.X=a.O):"overlayConfig"===a.g.spiralConfig&&(a.V=a.M,a.X=a.P);a.R=a.ha[a.g.palNo];a.Ha=a.g.spiralFillAlphaFactor;for(b=0;b<a.g.numStrings;b++)for(a.ia[b]=[a.A[a.g.palNo][b][0],a.A[a.g.palNo][b][1],a.A[a.g.palNo][b][2],Y(window.B[b])],a.C[b]=a.g.scale,a.j[b]=a.g.vertexSd,a.sa[b]=a.g.lposSlope,a.qa[b]=a.g.lnegSlope,a.va[b]=a.g.circleDia,a.ua[b]=a.g.circleDiaSlope,a.la[b]=a.g.circleDia,a.ka[b]=a.g.circleDiaSlope,a.J=a.g.strokeBase,a.Aa[b]=.01>=
a.i[b]&&.01>=a.j[b]?10*a.J:.01<a.i[b]&&.05>a.i[b]&&.01>=a.j[b]?15*a.J:.05<a.i[b]&&.01>=a.j[b]?25*a.J:15*a.J,"off"===a.g.innerCircles?(a.l[b]=0,a.H[b]=a.g.lneg0):"on"===a.g.innerCircles?(a.l[b]=1,a.H[b]=a.g.lneg0*a.pa):"random"===a.g.innerCircles&&(a.l[b]=a.l[b]),"off"===a.g.outerCircles?(a.m[b]=0,a.I[b]=a.g.lpos0):"on"===a.g.outerCircles?(a.m[b]=1,a.I[b]=a.g.lpos0*a.ra):"random"===a.g.outerCircles&&(a.m[b]=a.m[b]),"all open"===a.g.innerSpiralsClosed?a.o[b]=0:"all closed"===a.g.innerSpiralsClosed?
a.o[b]=1:"random"===a.g.innerSpiralsClosed&&(a.o[b]=a.o[b]),"all open"===a.g.outerSpiralsClosed?a.s[b]=0:"all closed"===a.g.outerSpiralsClosed?a.s[b]=1:"random"===a.g.outerSpiralsClosed&&(a.s[b]=a.s[b]),"no fill"===a.g.innerSpiralsFill?a.u[b]=0:"fill all"===a.g.innerSpiralsFill?a.u[b]=1:"random"===a.g.innerSpiralsFill&&(a.u[b]=a.u[b]),"no fill"===a.g.outerSpiralsFill?a.v[b]=0:"fill all"===a.g.outerSpiralsFill?a.v[b]=1:"random"===a.g.outerSpiralsFill&&(a.v[b]=a.v[b]),a.T[b]=[],a.S[b]=[],c=0;c<a.D[b];c++)a.F[c]=
a.Y+c*a.i[b],a.T[b][c]=T(a.F[c],a.$[b],a.C[b],a.I[b],a.sa[b],a.j[b]),a.S[b][c]=U(a.F[c],a.ba[b],a.C[b],a.H[b],a.qa[b],a.j[b],a.aa[b])};a.sb=function(){window.Fa=a.g.adsrGain;window.G=a.g.numStrings;I=H.slice(0,window.G);a.R=a.ha[a.g.palNo];a.Ha=a.g.spiralFillAlphaFactor;a.K=a.h.map(()=>a.g.xSd);a.N=a.h.map(()=>a.g.xSd);for(var b=0;b<J;b++){a.D[b]=(a.Da-a.Y)/a.i[b];a.L[b]=[];a.O[b]=[];a.M[b]=[];a.P[b]=[];for(var c=0;c<a.D[b];c++)a.L[b][c]=x(a.ca[b],a.K[b]),a.O[b][c]=x(a.fa[b],a.N[b]),a.M[b][c]=x(a.ea,
a.K[b]),a.P[b][c]=x(a.ga,a.N[b])}"latticeConfig"===a.g.spiralConfig?(a.V=a.L,a.X=a.O):"overlayConfig"===a.g.spiralConfig&&(a.V=a.M,a.X=a.P);for(b=0;b<a.g.numStrings;b++)for(a.ia[b]=[a.A[a.g.palNo][b][0],a.A[a.g.palNo][b][1],a.A[a.g.palNo][b][2],Y(window.B[b])],a.C[b]=a.g.scale,a.j[b]=a.g.vertexSd,a.K[b]=a.g.xSd,a.N[b]=a.g.xSd,a.sa[b]=a.g.lposSlope,a.qa[b]=a.g.lnegSlope,a.va[b]=a.g.circleDia,a.ua[b]=a.g.circleDiaSlope,a.la[b]=a.g.circleDia,a.ka[b]=a.g.circleDiaSlope,a.J=a.g.strokeBase,a.Aa[b]=.01>=
a.i[b]&&.01>=a.j[b]?10*a.J:.01<a.i[b]&&.05>a.i[b]&&.01>=a.j[b]?15*a.J:.05<a.i[b]&&.01>=a.j[b]?25*a.J:15*a.J,"off"===a.g.innerCircles?(a.l[b]=0,a.H[b]=a.g.lneg0):"on"===a.g.innerCircles?(a.l[b]=1,a.H[b]=a.g.lneg0*a.pa):"random"===a.g.innerCircles&&(a.l[b]=a.l[b]),"off"===a.g.outerCircles?(a.m[b]=0,a.I[b]=a.g.lpos0):"on"===a.g.outerCircles?(a.m[b]=1,a.I[b]=a.g.lpos0*a.ra):"random"===a.g.outerCircles&&(a.m[b]=a.m[b]),"all open"===a.g.innerSpiralsClosed?a.o[b]=0:"all closed"===a.g.innerSpiralsClosed?
a.o[b]=1:"random"===a.g.innerSpiralsClosed&&(a.o[b]=a.o[b]),"all open"===a.g.outerSpiralsClosed?a.s[b]=0:"all closed"===a.g.outerSpiralsClosed?a.s[b]=1:"random"===a.g.outerSpiralsClosed&&(a.s[b]=a.s[b]),"no fill"===a.g.innerSpiralsFill?a.u[b]=0:"fill all"===a.g.innerSpiralsFill?a.u[b]=1:"random"===a.g.innerSpiralsFill&&(a.u[b]=a.u[b]),"no fill"===a.g.outerSpiralsFill?a.v[b]=0:"fill all"===a.g.outerSpiralsFill?a.v[b]=1:"random"===a.g.outerSpiralsFill&&(a.v[b]=a.v[b]),a.T[b]=[],a.S[b]=[],c=0;c<a.D[b];c++)a.F[c]=
a.Y+c*a.i[b],a.T[b][c]=T(a.F[c],a.$[b],a.C[b],a.I[b],a.sa[b],a.j[b]),a.S[b][c]=U(a.F[c],a.ba[b],a.C[b],a.H[b],a.qa[b],a.j[b],a.aa[b])};a.Wa=function(){a.Z={numStrings:window.G,palette:{col:a.ia,bgCol:a.R},scaleVec:a.C,sWeightVec:a.Aa,xvec:a.V,yvec:a.X,vertexSdVec:a.j,spiralFillAlphaFactor:a.Ha,"+ve":{spiralxyVec:a.T,circles:a.m,spiralClose:a.s,spiralFill:a.v,circleDia:a.va,circleDiaSlope:a.ua},"-ve":{spiralxyVec:a.S,circles:a.l,spiralClose:a.o,spiralFill:a.u,circleDia:a.la,circleDiaSlope:a.ka}}};
a.setup=function(){a.createCanvas(N,K*N);a.colorMode(a.HSB,360,100,100,1);a.frameRate(60);a.hb();a.Wa();a.R=a.Z.palette.bgCol;console.log("p.juxtParametersMap = ",a.Z)};a.draw=function(){a.R=a.Z.palette.bgCol;a.background(a.R);R=0;for(let b=0;b<a.Z.numStrings;b++){a.za[b]=[];for(let c=0;c<a.D[b];c++)a.za[b][c]=Y(window.B[b]),a.Ja(a.Z,"+ve",b,c,a.za[b][c]),a.Ja(a.Z,"-ve",b,c,a.za[b][c])}a.Ra();a.Sa()};a.Sa=function(){for(let b=0;b<H.length;b++){a.U[b]=a.U[b].slice(1);a.U[b].push(window.B[b]);a.noFill();
a.stroke([40*b,100,50,1]);a.strokeWeight(.01*N);a.beginShape();for(let c=0;c<a.U[b].length;c++)a.vertex(c/a.U[b].length*N,5*M*a.U[b][c]);a.endShape()}};a.qb=function(){a.Oa&&a.save(tokenData.hash+".png");a.Oa=0};a.Ra=function(){let b=Math.pow(K-1,7);a.fill(a.R);a.noStroke();a.beginShape();a.vertex(0*N,0*N);a.vertex(N,0*N);a.vertex(N,N*K);a.vertex(0*N,N*K);a.beginContour();a.vertex(N*b,N*b);a.vertex(N*b,N*(K-b));a.vertex(N*(1-b),N*(K-b));a.vertex(N*(1-b),N*b);a.endContour();a.endShape(a.CLOSE)};a.Ja=
function(b,c,e,l,q){let D=b[c].spiralxyVec[e][l];var r=b.palette.col[e];let aa=b.xvec[e][l],ba=b.yvec[e][l],V=b.sWeightVec[e];l=b[c].circles[e];let ca=b[c].spiralClose[e],W=b[c].circleDia[e],X=b[c].circleDiaSlope[e],O,P,Q,da=[r[0],r[1],r[2],q*b.spiralFillAlphaFactor];r=[r[0],r[1],r[2],q];b[c].spiralFill[e]?(a.fill(da),a.noStroke()):(a.noFill(),a.stroke(r));switch(l){case 0:P=V;Q=0;O=D.length;break;case 1:P=V,Q=0,O=D.length-1}a.push();a.translate(N*aa,M*ba);a.beginShape();for(b=0;b<O*q;b++)switch(c=
D[b],a.strokeWeight(N*(P+Q*b)),l){case 0:a.curveVertex(N*c[0],N*c[1]);R++;break;case 1:a.ellipse(N*c[0],N*c[1],N*(W+X*b),N*(W+X*b)),R++}ca?a.endShape(a.CLOSE):a.endShape();a.pop()};a.pb=function(b,c,e,l){let q=[];for(let D=0;D<=l;D++){let r=D/l*L*2;q.push([e*Math.cos(r),e*Math.sin(r)])}a.push();a.translate(N*b,N*c);a.beginShape();for(b=0;b<q.length;b++)a.vertex(N*q[b][0],N*q[b][1]);a.endShape(a.CLOSE);a.pop()};a.nb=function(b,c,e){let l=[];l.push([-1,1]);l.push([-1,1]);l.push([1,1]);l.push([1,-1]);
l.push([-1,-1]);l.push([-1,-1]);a.scale(e);a.push();a.translate(N*b,N*c);a.beginShape();for(b=0;b<l.length;b++)a.curveVertex(N*l[b][0],N*l[b][1]);a.endShape();a.pop()}},"juxtSketch");let Z=null;
async function ea(){if(!Z)try{Z=new AudioContext}catch(d){return null}try{var a=new AudioWorkletNode(Z,"instrument-processor",{processorOptions:{f0s_:H}})}catch(d){try{await Z.audioWorklet.addModule("js/instrument-processor-compiled.js"),a=new AudioWorkletNode(Z,"instrument-processor",{processorOptions:{f0s_:H}})}catch(k){return null}}await Z.resume();return a}
async function fa(){var a=await ea();if(a){a.connect(Z.destination);a.port.onmessage=c=>{"analysis"===c.data.msg&&(window.B[c.data.stringno]=c.data.amplitude,window.ja[c.data.stringno]=c.data.vibration,window.ob=c.data.stringno)};var d=function(c,e,l,q){a.port.postMessage({type:"play",stringnum:c,noise:e,adsr:l,adsrGain:q})},k=Z.sampleRate,f=[20,5];k=Math.round(f[0]/1E3*k)+Math.round(f[1]/1E3*k);var g=[];for(var b=0;b<k;b++)g[b]=p(u);k=[];b=[1,2,3,4,5,6,7,8].map(c=>1500*c);k=[19700,17800,21300,22100,
18400,2E4,17700,33E3].map(c=>1*c);for(let c=0;c<I.length;c++)setTimeout(()=>d(c,g,f,.01),b[c]);for(let c=0;c<I.length;c++)setInterval(()=>{setTimeout(()=>d(c,g,f,.01),1500+8500*p(u))},k[c])}}window.addEventListener("load",()=>{document.getElementById("toggle").addEventListener("click",ha)});async function ha(){Z?(window.B.fill(1),await Z.close(),Z=null):fa()};
